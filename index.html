<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>дорогой антон, вот твой подарок....</title>
  <style>
    :root {
      --bg:#FFFFFF; --card:#FFFFFF; --tile-bg:#FFFFFF; --tile-border:#000000;
      --text:#000000; --gray:#7b8aa5; --accent:#1f6feb;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto;
    }
    html, body {
      margin:0;
      background:var(--bg);
      color:var(--text);
      height:100%;
      overflow-x:hidden;
    }
    .wrap {
      max-width:95%;
      margin:32px auto;
      padding:16px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:12px;
      position:relative;
      z-index:1;
    }
    h1 {
      margin:0 0 12px;
      font-size:clamp(18px,4vw,24px);
    }
    .sentence {
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin:20px 0;
    }
    .cell {
      min-width:28px;
      height:36px;
      border-bottom:3px solid var(--tile-border);
      font-size:clamp(18px,4vw,24px);
      text-align:center;
      line-height:36px;
      border-radius:4px;
    }
    .space { border-bottom:none; }

    .keyboard {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(32px,1fr));
      gap:6px;
      margin-top:20px;
    }
   button.key {
  padding:8px;
  background:gray;
  color:black;
  border:2px solid black;
  border-radius:6px;
  cursor:pointer;
  font-size:clamp(14px,3vw,16px);
}

    button.key.used { background:#2d3545; color:var(--gray); cursor:not-allowed; }
    button.key.correct { background:#2e6f3e; }
    button.key.wrong { background:#6b2e2e; }

    .status { margin-top:16px; font-size:clamp(16px,4vw,18px); }
    .hint { margin-top:8px; color:#9fb0d8; font-size:clamp(12px,3vw,14px); }

    #overlay {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.9);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
    }
    #overlay img { max-width:90%; max-height:90%; border-radius:12px; }
  </style>
</head>
<body>
  <div class="wrap" id="gameContainer">
    <h1>СУПЕР-ПОДАОК УЖЕ БЛИЗКО!</h1>
    <p>Угадайте предложение, открывая буквы.</p>

    <div id="sentence" class="sentence"></div>
    <div id="keyboard" class="keyboard"></div>
    <div id="status" class="status"></div>
    <div id="hint" class="hint"></div>
  </div>

  <div id="overlay"><img id="overlayImg" src="аантон.png" alt="result"></div>

  <script>
    const TARGET = 'Десять занятий диджеинга от Васи Сайко и пять занятий по фортепиано';
    const targetNorm = TARGET.toLowerCase();
    const sentenceEl = document.getElementById('sentence');
    const keyboardEl = document.getElementById('keyboard');
    const statusEl = document.getElementById('status');
    const overlay = document.getElementById('overlay');

    let revealed = new Array(TARGET.length).fill(false);
    let errors = 0;
    let maxErrors = 27;

    function initSentence(){
      sentenceEl.innerHTML = '';
      for(let i=0;i<TARGET.length;i++){
        const c = TARGET[i];
        const cell = document.createElement('div');
        cell.className = 'cell';
        if(c===''){cell.classList.add('space'); cell.textContent=' ';}
        if(c===' '){cell.classList.add('space'); cell.textContent=' ';}
        cell.dataset.index=i;
        sentenceEl.appendChild(cell);
      }
    }

    function renderSentence(){
      for(let i=0;i<TARGET.length;i++){
        const cell = sentenceEl.children[i];
        if(TARGET[i]===' '){continue;}
        cell.textContent = revealed[i] ? TARGET[i] : '';
      }
    }

    const alphabet = 'абвгдеёжзийклмнопрстуфхцчшщьыъэюя';
    function initKeyboard(){
      keyboardEl.innerHTML = '';
      for(const ch of alphabet){
        const btn = document.createElement('button');
        btn.className='key';
        btn.textContent=ch;
        btn.dataset.char=ch;
        btn.addEventListener('click',()=>handleGuess(ch,btn));
        keyboardEl.appendChild(btn);
      }
    }

    function handleGuess(ch, btn){
      if(btn.classList.contains('used')) return;
      btn.classList.add('used');
      let found = false;
      for(let i=0;i<targetNorm.length;i++){
        if(targetNorm[i]===ch){revealed[i]=true;found=true;}
      }
      if(found){btn.classList.add('correct'); renderSentence(); checkWin();}
      else{btn.classList.add('wrong'); errors++; statusEl.textContent=`Ошибок: ${errors} / ${maxErrors}`; if(errors>=maxErrors){lose();}}
    }

    function checkWin(){
      if(revealed.every((v,i)=>v||TARGET[i]===' ')){
        statusEl.textContent='Вы угадали предложение!';
        disableKeyboard();
        showOverlay();
      }
    }

    function lose(){
      statusEl.textContent=`❌ Вы проиграли. Ответ: "${TARGET}"`;
      disableKeyboard();
      showOverlay();
    }

    function disableKeyboard(){
      keyboardEl.querySelectorAll('button.key').forEach(b=>b.disabled=true);
    }

    function showOverlay(){
      overlay.style.display='flex';
    }

    initSentence();
    renderSentence();
    initKeyboard();
    statusEl.textContent=`Ошибок: 0 / ${maxErrors}`;
  </script>
</body>
</html>
